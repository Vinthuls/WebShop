@model IEnumerable<Category>
@{
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" 
        integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" 
        crossorigin="anonymous"></script>


<nav class="navbar navbar-expand-sm bg-dark navbar-dark justify-content-between">
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" asp-controller="Home" asp-action="Index">Home</a>
        </li>
        @foreach (var c in Model)
        {
            <li class="nav-item">
                <a class="nav-link" asp-controller="Home" asp-action="SelectCategory"
                   asp-route-currentCategoryId="@c.CategoryId">@c.Name</a>
            </li>
        }
    </ul>
    <div class="navbar-nav">
        @if (ViewBag.isLogged)
        {
            <div class="dropdown">
                <a class="btn dropdown-toggle nav-link nav-item" type="button" href="#"
                        id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                    My Account
                </a>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                    <li><a class="dropdown-item" asp-controller="Orders" asp-action="Index">Orders</a></li>
                    <li><a class="dropdown-item" href="#">Whish list</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="/Account/Logout">Logout</a></li>
                </ul>
            </div>
        }
        else
        {
            <a class="nav-link nav-item" href="/Account/Login">Login</a>
            <a class="nav-link nav-item" href="/Account/Register">Register</a>
        }
        @if (0 == ViewBag.itemsCount)
        {
            <a class="nav-link nav-item active">Your cart is empty.</a>
        }
        else
        {
            <a class="nav-link nav-item active">
                Total Price: @ViewBag.totalPrice
            </a>
        }
        <a asp-controller="Cart" asp-action="Index" class="mx-3 btn btn-outline-light position-relative">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart-check-fill" viewBox="0 0 16 16">
                    <path d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-1.646-7.646-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L8 8.293l2.646-2.647a.5.5 0 0 1 .708.708z" />
                </svg>
                <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                    @ViewBag.itemsCount
                </span>
        </a>
        <form class="form-inline nav-item" asp-controller="Home" asp-action="SearchProduct" method="get">
            <input class="form-control mr-sm-2" type="search"
                   placeholder="Search" aria-label="Search" name="name">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form>
    </div>
</nav>
